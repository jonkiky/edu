(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[174],{3651:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/content/[slug]",function(){return s(2940)}])},2940:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(5893),r=s(1163),i=s(7294);s(1664);var a=s(8492),o=s(8296);function l(e){let[t,s]=(0,i.useState)({loading:!0,status:"n/a",message:""});return(0,i.useEffect)(()=>{async function t(e){var t,n,r,i;let a=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({system:e.prompts_system,user:e.prompts_user})}),o=await a.json();if(200!==a.status)throw o.error||Error("Request failed with status ".concat(a.status));s({loading:!1,status:"200",message:null!==(i=null===(t=null==o?void 0:null===(n=o.result)||void 0===n?void 0:n.choices[0])||void 0===t?void 0:null===(r=t.message)||void 0===r?void 0:r.content)&&void 0!==i?i:""})}e.content&&""!==e.content?s({loading:!1,status:"200",message:e.content}):t(e)},[e]),t.loading?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("p",{children:["loading.... ",(0,n.jsx)(o.Nx,{width:"200",color:"#4fa94d"})," "]})}):(0,n.jsx)("div",{className:"sections",children:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:t.message}})})}var c=s(7307);function u(){var e;let[t,s]=(0,i.useState)([]),o=(0,r.useRouter)(),u=null===(e=o.query)||void 0===e?void 0:e.slug;""==u&&o.push("/404"),(0,i.useEffect)(()=>{u&&d(u)},[u]);let d=function(e){fetch("../../data/"+e.replace(/ /g,"_")+".json").then(e=>e.json()).then(e=>{s(h(e))}).catch(e=>{s(e)})},h=function(e){return f(e.data)},f=function(e){let t=[];for(var s=0;s<=e.length-1;s++)if(!(e[s].hide&&e[s].hide)){let r=e[s].response?e[s].response:"";t.push((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"content-header",children:e[s].title}),(0,n.jsx)(l,{title:e[s].title,prompts_system:e[s].system,prompts_user:e[s].query,content:r})]}))}return t};return(0,n.jsx)("div",{id:"search-page",children:(0,n.jsxs)("div",{className:"search-paper",children:[(0,n.jsx)(a.Z,{link:"/explorer"}),(0,n.jsxs)("div",{className:"trend-list",children:[(0,n.jsx)("div",{className:"inner",id:"content-sections",children:t}),(0,n.jsx)(c.Z,{redirect:"/explorer"})]})]})})}}},function(e){e.O(0,[976,664,810,24,307,774,888,179],function(){return e(e.s=3651)}),_N_E=e.O()}]);